{"remainingRequest":"D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\src\\components\\stdocregisterview.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\src\\components\\stdocregisterview.vue","mtime":1629708561678},{"path":"D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\githubRepositories\\djangovue\\mi_website\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQga3RhYmxlIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMva3RhYmxlLWNtcC52dWUnDQovL2ltcG9ydCBrdGFibGUgZnJvbSAnLi9rdGFibGUtY21wLnZ1ZScNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KY29uc3QgYXBpX3Jvb3Q9cHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfUk9PVD09PXVuZGVmaW5lZD8nJzpwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9ST09UDQogIA0KZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICAgICAgbmFtZTonc3Rkb2NyZWdpc3RlcnZpZXcnLA0KICAgICAgICAgICAgY29tcG9uZW50czp7a3RhYmxlfSwNCiAgICAgICAgICAgIG1vdW50ZWQ6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRzdGFydGluZm8oKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkYXRhOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgICAgICAgICAgYXBpX3Jvb3Q6YXBpX3Jvb3QsDQogICAgICAgICAgICAgICAgICAgIGZpbnllYXI6JycsbWF0Z3JvdXBzOltdLHNlbGVjdGVkOicnLGtleV9rdGFibGVkb2NzOjEsYXBpdXJsZG9jczonJyxrZXlfa3RhYmxlZG9jbGVkZ2VyOjEsYXBpdXJsZG9jbGVkZ2VyOicnLGRvY3R5cGVfY2hvaWNlczotMSxjOltdLGtleV9jOjEsY3VycmVudGluZGV4OicnLA0KICAgICAgICAgICAgICAgICAgICBvcHRpb25zMTogWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDAsIHRleHQ6ICcwJyB9LHsgdmFsdWU6IDEsIHRleHQ6ICcxJyB9LHsgdmFsdWU6IDIsIHRleHQ6ICcyJyB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDMsIHRleHQ6ICczJyB9LHsgdmFsdWU6IDQsIHRleHQ6ICc0JyB9LHsgdmFsdWU6IDUsIHRleHQ6ICc1JyB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDYsIHRleHQ6ICc2JyB9LHsgdmFsdWU6NywgdGV4dDogJzcnIH0seyB2YWx1ZTogOCwgdGV4dDogJzgnIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogOSwgdGV4dDogJzknIH0seyB2YWx1ZTogMTAsIHRleHQ6ICcxMCcgfSx7IHZhbHVlOiAxMSwgdGV4dDogJzExJyB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDEyLCB0ZXh0OiAnMTInIH0seyB2YWx1ZTogMTMsIHRleHQ6ICcxMycgfSx7IHZhbHVlOiAxNCwgdGV4dDogJzE0JyB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IDE1LCB0ZXh0OiAnMTUnIH0seyB2YWx1ZTogMTYsIHRleHQ6ICcxNycgfSx7IHZhbHVlOiAxNCwgdGV4dDogJzE4JyB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogMTUsIHRleHQ6ICcxNScgfSx7IHZhbHVlOiAxNiwgdGV4dDogJzE3JyB9LHsgdmFsdWU6IDE0LCB0ZXh0OiAnMTgnIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgICAgICB3YXRjaDp7DQoNCiAgICAgICAgICAgICAgICBzZWxlY3RlZDpmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0c3Rkb2NyZWdpc3RlcmluZm8oKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICBkb2N0eXBlX2Nob2ljZXM6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNfdXBkYXRlKCkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICAgICAgbWV0aG9kczp7DQogICAgICAgICAgICAgICAgZ2V0c3RhcnRpbmZvOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGFydCcpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdXJsPXRoaXMuYXBpX3Jvb3QrIi9taS9hamF4L2dldGN1cnJlbnR5ZWFyIjsNCiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZ2V0KHVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlueWVhciA9IHJlc3BvbnNlLmRhdGEuc3RjdXJyZW50eWVhcjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxmdW5jdGlvbiAoZXJyb3IpIHtjb25zb2xlLmxvZyhlcnJvcik7fQ0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHVybDE9dGhpcy5hcGlfcm9vdCsiL21pL2FqYXgvZ2V0bWF0Z3JvdXBzIjsNCiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZ2V0KHVybDEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGdyb3VwcyA9IHJlc3BvbnNlLmRhdGEubWF0Z3JvdXBzOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcih2YXIgYyBvZiBtYXRncm91cHMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHRoaXMubWF0Z3JvdXBzLnB1c2goe3ZhbHVlOmMudmFsdWUsdGV4dDpjLnRleHR9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWF0Z3JvdXBzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxmdW5jdGlvbiAoZXJyb3IpIHtjb25zb2xlLmxvZyhlcnJvcik7fQ0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICBhZGRjbGlja2VkOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGRjbGlja2VkJyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jdHlwZV9jaG9pY2VzPS0xOw0KDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBmb3JtbW91bnRlZDpmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZm9ybScpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c191cGRhdGUoKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGdldHN0ZG9jcmVnaXN0ZXJpbmZvOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpdXJsZG9jcz10aGlzLmFwaV9yb290KyAiL21pL2FqYXgvc3Rkb2NyZWdpc3Rlcj95ZWFyaWQ9IisgdGhpcy5maW55ZWFyICsiJmdyb3VwaWQ9Iit0aGlzLnNlbGVjdGVkKyImZG9jbm89MCZkb2N0eXBlPTAiOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmtleV9rdGFibGVkb2NzKz0xOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc3RhdHVzX3VwZGF0ZTpmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRvY3R5cGVfY2hvaWNlcyk7DQoNCg0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kb2N0eXBlX2Nob2ljZXM9PSc2Jyl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmt0YWJsZWRvY3MuJHJlZnMubW0xLiRyZWZzLnJlZl93YXJyYW50LnJlYWRPbmx5PXRydWU7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5rdGFibGVkb2NzLiRyZWZzLm1tMS4kcmVmcy5yZWZfd2FycmFudC5yZWFkT25seT1mYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRvY3R5cGVfY2hvaWNlcyE9LTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy4kcmVmcy5rdGFibGVkb2NzLnRhYmxlcGFydGljdWxhcnMubWF4ZG9jc1t0aGlzLmZpbnllYXJdW3RoaXMuc2VsZWN0ZWRdW3RoaXMuZG9jdHlwZV9jaG9pY2VzXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMua3RhYmxlZG9jcy4kcmVmcy5tbTEuJHJlZnMucmVmX2RvY25vLnZhbHVlID0gYSA/IGEgOiAxOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHJvd2NsaWNrZWQ6ZnVuY3Rpb24oaXRlbSxpbmRleCl7DQogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaXRlbSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpdXJsZG9jbGVkZ2VyPScnOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNbdGhpcy5jdXJyZW50aW5kZXhdPScnOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmtleV9jKz0xOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRpbmRleD1pbmRleDsNCg0KICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGl1cmxkb2NsZWRnZXI9dGhpcy5hcGlfcm9vdCsgIi9taS9hamF4L3N0ZG9jbGVkZ2VyP3llYXJpZD0iK2l0ZW0ueWVhcmlkKyImZG9jbm89IitpdGVtLmRvY25vKyImZ3JvdXBpZD0iK2l0ZW0uZ3JvdXBpZCsiJmRvY3R5cGU9IitpdGVtLmRvY3R5cGU7DQogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy51cmxtaXNsaXBpdGVtcyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY1tpbmRleF09a3RhYmxlOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmtleV9jKz0xOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgICAgICAgICAgDQoNCn0NCg=="},{"version":3,"sources":["stdocregisterview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"stdocregisterview.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"row bg-inf\" >\r\n            <span class=\"col-md-12  text-center bg-secondary\" >\r\n                <h4>Register documents</h4>\r\n            </span>\r\n        </div>\r\n        <div class=\"row bg-inf\" >\r\n            <div class=\"col-md-3 \">\r\n                <label for=\"txtfinyear\">Fin Year:</label>\r\n                <input type=\"text\" class=\"input-sm form-control\" v-model=\"finyear\" id=\"txtfinyear\" disabled>\r\n            </div>\r\n             <div class=\"col-md-2 \">\r\n                 <label for=\"bselected\">Mat Group:</label>\r\n                 <b-form-select v-model=\"selected\" :options=\"matgroups\" id=\"bselected\"/>\r\n             </div>\r\n        </div>\r\n        <hr>\r\n        <div class=\"row bg-inf\" >\r\n            <ktable\r\n                        ref=\"ktabledocs\"\r\n                        :key=\"key_ktabledocs\"\r\n                        :apiurl=\"apiurldocs\"\r\n                        apiurl8='http://192.100.200.23:8033/mi/ajax/stdocregister/?yearid=2020-2021&groupid=2&docno=0&doctype=0'\r\n                        :use-action-button=\"true\"\r\n                        :useprintbutton=\"false\"\r\n                        @formmounted=\"formmounted\"\r\n                        @add_clicked=\"addclicked\"\r\n                        :use-detail-row=\"true\"\r\n                        @rowclicked=\"rowclicked\"\r\n            >\r\n                <template v-slot:edittext>&nbsp;</template>\r\n                <template v-slot:deletetext>&nbsp;</template>\r\n                <template v-slot:detailrow=\"slotprops\">\r\n                       <component :is=\"c[slotprops.index]\"\r\n                                  :key=\"key_c\"\r\n                                  :ref=\"'c_'+slotprops.index\"\r\n                                  :apiurl=\"apiurldocledger\"\r\n                                  :groupfields=\"false\"\r\n                                  :use-detail-row=\"false\"\r\n                                  :use-action-button=\"false\"\r\n                                  :sortable=\"false\"\r\n                                  rowcolor=\"lightgreen\"\r\n                        >             \r\n                       </component>\r\n                </template>\r\n            </ktable>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ktable from '../../../../components/ktable-cmp.vue'\r\n//import ktable from './ktable-cmp.vue'\r\nimport axios from 'axios'\r\n\r\nconst api_root=process.env.VUE_APP_API_ROOT===undefined?'':process.env.VUE_APP_API_ROOT\r\n  \r\nexport default {\r\n            name:'stdocregisterview',\r\n            components:{ktable},\r\n            mounted:function(){\r\n                    this.getstartinfo();\r\n            },\r\n            data:function(){\r\n                return{\r\n                     api_root:api_root,\r\n                    finyear:'',matgroups:[],selected:'',key_ktabledocs:1,apiurldocs:'',key_ktabledocledger:1,apiurldocledger:'',doctype_choices:-1,c:[],key_c:1,currentindex:'',\r\n                    options1: [\r\n                            { value: 0, text: '0' },{ value: 1, text: '1' },{ value: 2, text: '2' },\r\n                            { value: 3, text: '3' },{ value: 4, text: '4' },{ value: 5, text: '5' },\r\n                            { value: 6, text: '6' },{ value:7, text: '7' },{ value: 8, text: '8' },\r\n                            { value: 9, text: '9' },{ value: 10, text: '10' },{ value: 11, text: '11' },\r\n                            { value: 12, text: '12' },{ value: 13, text: '13' },{ value: 14, text: '14' },\r\n                            { value: 15, text: '15' },{ value: 16, text: '17' },{ value: 14, text: '18' },\r\n                        { value: 15, text: '15' },{ value: 16, text: '17' },{ value: 14, text: '18' },\r\n                            ],\r\n                    \r\n                    \r\n                    \r\n                }\r\n        },\r\n            watch:{\r\n\r\n                selected:function(){\r\n                   this.getstdocregisterinfo();\r\n                },\r\n                 doctype_choices:function(){\r\n                    this.status_update()\r\n                },\r\n        },\r\n            methods:{\r\n                getstartinfo:function(){\r\n                    console.log('start');\r\n                    var url=this.api_root+\"/mi/ajax/getcurrentyear\";\r\n                    axios.get(url)\r\n                            .then((response) => {\r\n                                //console.log(response);\r\n                                this.finyear = response.data.stcurrentyear;\r\n                                },function (error) {console.log(error);}\r\n                        );\r\n                    var url1=this.api_root+\"/mi/ajax/getmatgroups\";\r\n                    axios.get(url1)\r\n                            .then((response) => {\r\n                                //console.log(response);\r\n                                this.matgroups = response.data.matgroups;\r\n                               // for(var c of matgroups){\r\n                                //            this.matgroups.push({value:c.value,text:c.text});\r\n                               // }\r\n                                console.log(this.matgroups);\r\n                                },function (error) {console.log(error);}\r\n                        );\r\n                },\r\n                 addclicked:function(){\r\n                    console.log('addclicked');\r\n                    this.doctype_choices=-1;\r\n\r\n                },\r\n                formmounted:function(){\r\n                    console.log('form');\r\n                    this.status_update();\r\n                },\r\n                getstdocregisterinfo:function(){\r\n                    this.apiurldocs=this.api_root+ \"/mi/ajax/stdocregister?yearid=\"+ this.finyear +\"&groupid=\"+this.selected+\"&docno=0&doctype=0\";\r\n                    this.key_ktabledocs+=1;\r\n                },\r\n                status_update:function(){\r\n                    console.log(this.doctype_choices);\r\n\r\n\r\n                    if (this.doctype_choices=='6'){\r\n                        this.$refs.ktabledocs.$refs.mm1.$refs.ref_warrant.readOnly=true;\r\n                    }else{\r\n                        this.$refs.ktabledocs.$refs.mm1.$refs.ref_warrant.readOnly=false;\r\n                    }\r\n                    if(this.doctype_choices!=-1) {\r\n                        var a = this.$refs.ktabledocs.tableparticulars.maxdocs[this.finyear][this.selected][this.doctype_choices];\r\n                        this.$refs.ktabledocs.$refs.mm1.$refs.ref_docno.value = a ? a : 1;\r\n                    }\r\n\r\n                },\r\n                rowclicked:function(item,index){\r\n                    //console.log(item);\r\n                    this.apiurldocledger='';\r\n                    this.c[this.currentindex]='';\r\n                    this.key_c+=1;\r\n                    this.currentindex=index;\r\n\r\n                     this.apiurldocledger=this.api_root+ \"/mi/ajax/stdocledger?yearid=\"+item.yearid+\"&docno=\"+item.docno+\"&groupid=\"+item.groupid+\"&doctype=\"+item.doctype;\r\n                    //console.log(this.urlmislipitems);\r\n                    this.c[index]=ktable;\r\n                    this.key_c+=1;\r\n                },\r\n        },\r\n                \r\n\r\n}\r\n</script>"]}]}